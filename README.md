# js-api-homework

### Принцип работы
При открытии страницы product-page.html к апи https://d5dqmrec9704nqgi2oe3.apigw.yandexcloud.net, развернутому в Яндекс-облаке, отправляется **GET**-запрос, возвращающий  мета-данные по одному случайному продукту магазина -- таким образом я создала симуляцию разных товаров с шаблоном одной и той же веб-страницы. Пример запроса в Postman:

![image](https://github.com/tivakhrusheva/js-api-homework/assets/91075802/d1f78ddc-7a90-4d5f-b2c8-0daec48776cf)

Пока что в базе данных, где и хранятся мета-данные, всего 3 товара, но, т.к. это прототип, я посчитала такое количество достаточным для демонстрации основного функционала.

![image](https://github.com/tivakhrusheva/js-api-homework/assets/91075802/2ca20262-20a9-4856-958d-eab8ea713f4f)

При успешном ответе от сервера на запрос полученные данные парсятся и используются для рендеринга HTML-кода страницы. 

На этой же странице для изменения пользователем доступен параметр количества товаров -- он меняется при нажатии на кнопки "+" или "-".
![image](https://github.com/tivakhrusheva/js-api-homework/assets/91075802/fd00652d-f520-4fa3-b201-406a390776bb)
Когда пользователь определяется с нужным количеством, он должен нажать на кнопку **"Buy Now"**, после чего к осуществлятся **POST**-запрос к эндпойнту /add_item. Этот запрос заносит в БД данные о стоимости товара, о количестве товара, его названии, а также об айди пользователя. Пример запроса в Postman:

![image](https://github.com/tivakhrusheva/js-api-homework/assets/91075802/8ffd85d3-5f7b-4fc6-bd5c-0ed6445e5c01)

После нажатия на кнопку **"Buy Now"** происходит автоматический переход на страницу корзины cart-page.html, где значения конечной стоимости, названия и количества товара отрисовываются с помощью поучения данных для данного юзера через GET-запрос к эндпойнту /get_cart/{userId}. Пример запроса в Postman:

![image](https://github.com/tivakhrusheva/js-api-homework/assets/91075802/fad02f62-9bb9-4fa4-a3d7-26163cbc87cc)

Для передачи уникального айди пользователя между двумя страницами используется стандартный объект **localStorage**.
### Скринкаст с примером работы
